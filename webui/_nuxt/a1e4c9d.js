(window.webpackJsonp=window.webpackJsonp||[]).push([[6,2,3,4,5],{299:function(t,e,n){"use strict";n.r(e);var r=n(4),o=(n(48),{props:{config:{type:Object,default:null},stopRec:{type:Function,default:null}},data:function(){return{notify:this.config.notify.notifyOn,record:this.config.record,danmu:this.config.danmu}},watch:{config:function(t,e){this.notify=this.config.notify.notifyOn,this.record=this.config.record,this.danmu=this.config.danmu}},methods:{changeNotify:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r="",!t){n.next=7;break}return n.next=4,fetch("http://localhost:51880/addnotifyon/"+e.config.uid).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 4:r=n.sent,n.next=10;break;case 7:return n.next=9,fetch("http://localhost:51880/delnotifyon/"+e.config.uid).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 9:r=n.sent;case 10:!0!==r&&console.error("changeNotify返回错误：".concat(r));case 11:case"end":return n.stop()}}),n)})))()},changeRecord:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r="",!t){n.next=7;break}return n.next=4,fetch("http://localhost:51880/addrecord/"+e.config.uid).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 4:r=n.sent,n.next=10;break;case 7:return n.next=9,fetch("http://localhost:51880/delrecord/"+e.config.uid).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 9:r=n.sent;case 10:!0!==r&&console.error("changeRecord返回错误：".concat(r));case 11:case"end":return n.stop()}}),n)})))()},changeDanmu:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r="",!t){n.next=7;break}return n.next=4,fetch("http://localhost:51880/adddanmu/"+e.config.uid).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 4:r=n.sent,n.next=10;break;case 7:return n.next=9,fetch("http://localhost:51880/deldanmu/"+e.config.uid).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 9:r=n.sent;case 10:!0!==r&&console.error("changeDanmu返回错误：".concat(r));case 11:case"end":return n.stop()}}),n)})))()},deleteLive:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.config.isRecord&&t.stopRec(t.config.uid),e.next=3,fetch("http://localhost:51880/delconfig/"+t.config.uid).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 3:!0!==(n=e.sent)&&console.error("deleteLive返回错误：".concat(n));case 5:case"end":return e.stop()}}),e)})))()}}}),c=n(37),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"relative",top:"8px"}},[n("el-checkbox",{attrs:{label:"开播提醒"},on:{change:t.changeNotify},model:{value:t.notify,callback:function(e){t.notify=e},expression:"notify"}}),t._v(" "),n("el-checkbox",{attrs:{label:"自动录播"},on:{change:t.changeRecord},model:{value:t.record,callback:function(e){t.record=e},expression:"record"}}),t._v(" "),n("el-checkbox",{attrs:{label:"自动下载弹幕"},on:{change:t.changeDanmu},model:{value:t.danmu,callback:function(e){t.danmu=e},expression:"danmu"}}),t._v(" "),n("el-popconfirm",{attrs:{icon:"el-icon-info","icon-color":"red",title:"确定删除 "+t.config.name+"（"+t.config.uid+"） 的设置？"},on:{confirm:t.deleteLive}},[n("el-button",{staticStyle:{position:"absolute",right:"30px"},attrs:{slot:"reference",size:"small"},slot:"reference"},[t._v("\n      删除主播\n    ")])],1)],1)}),[],!1,null,null,null);e.default=component.exports},300:function(t,e,n){"use strict";n.r(e);var r=n(4),o=(n(48),{props:{showDialog:{type:Boolean,default:!1}},data:function(){return{inputUID:"",notify:!0,record:!1,danmu:!1,warn:!1}},computed:{show:{get:function(){return this.showDialog},set:function(t){!1===t&&this.$emit("hideDialog")}}},methods:{configLive:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.inputUID){e.next=3;break}return t.show=!1,e.abrupt("return");case 3:if(n=parseInt(t.inputUID,10),!(isNaN(n)||n<=0)){e.next=7;break}return t.warn=!0,e.abrupt("return");case 7:if(t.warn=!1,t.show=!1,r=!0,!t.notify){e.next=17;break}if(e.t0=r,!e.t0){e.next=16;break}return e.next=15,fetch("http://localhost:51880/addnotifyon/"+n).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 15:e.t0=e.sent;case 16:r=e.t0;case 17:if(!t.record){e.next=24;break}if(e.t1=r,!e.t1){e.next=23;break}return e.next=22,fetch("http://localhost:51880/addrecord/"+n).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 22:e.t1=e.sent;case 23:r=e.t1;case 24:if(!t.danmu){e.next=31;break}if(e.t2=r,!e.t2){e.next=30;break}return e.next=29,fetch("http://localhost:51880/adddanmu/"+n).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 29:e.t2=e.sent;case 30:r=e.t2;case 31:!0!==r&&console.error("configLive返回错误：".concat(r));case 32:case"end":return e.stop()}}),e)})))()}}}),c=n(37),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"订阅主播",visible:t.show,width:"30%"},on:{"update:visible":function(e){t.show=e}}},[n("div",[n("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入主播uid"},model:{value:t.inputUID,callback:function(e){t.inputUID=e},expression:"inputUID"}}),t._v(" "),t.warn?n("span",{staticStyle:{color:"red"}},[t._v("请输入一个大于0的整数")]):t._e()],1),t._v(" "),n("div",{staticStyle:{"margin-top":"20px"}},[n("el-checkbox",{attrs:{label:"开播提醒"},model:{value:t.notify,callback:function(e){t.notify=e},expression:"notify"}}),t._v(" "),n("el-checkbox",{attrs:{label:"自动录播"},model:{value:t.record,callback:function(e){t.record=e},expression:"record"}}),t._v(" "),n("el-checkbox",{attrs:{label:"自动下载弹幕"},model:{value:t.danmu,callback:function(e){t.danmu=e},expression:"danmu"}})],1),t._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.configLive}},[t._v("设置")])],1)])}),[],!1,null,null,null);e.default=component.exports},301:function(t,e,n){"use strict";n.r(e);var r=n(4),o=(n(48),n(39),n(38),{data:function(){return{lives:[],timer:""}},created:function(){var t=this;this.getLive(),this.timer=setInterval((function(){t.getLive()}),1e4)},beforeDestroy:function(){this.cancelTimer()},methods:{getLive:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:51880/liststreamer").then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return n=e.t0,e.next=8,fetch("http://localhost:51880/listlive").then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 8:if(e.t1=e.sent,e.t1){e.next=11;break}e.t1=[];case 11:return r=e.t1,e.next=14,fetch("http://localhost:51880/listrecord").then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 14:if(e.t2=e.sent,e.t2){e.next=17;break}e.t2=[];case 17:o=e.t2,(n=n.map((function(t){return r.map((function(e){return e.uid===t.uid&&(t.isLive=!0,t.title=e.title,t.url=e.url),e})),t.isRecord=o.filter((function(e){return e.uid===t.uid})).length>0,t}))).sort((function(a,b){return a.isLive&&b.isLive?a.uid<b.uid?-1:1:a.isLive||b.isLive?a.isLive&&!b.isLive?-1:1:a.uid<b.uid?-1:1})),t.lives=n;case 21:case"end":return e.stop()}}),e)})))()},cancelTimer:function(){clearInterval(this.timer)},startRecord:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:51880/startrecdan/"+t).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 2:!0!==(n=e.sent)&&console.error("startRecord返回错误：".concat(n));case 4:case"end":return e.stop()}}),e)})))()},stopRecord:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:51880/stoprecord/"+t).then((function(t){return t.json()})).catch((function(t){return console.error(t)}));case 2:!0!==(n=e.sent)&&console.error("stopRecord返回错误：".concat(n));case 4:case"end":return e.stop()}}),e)})))()}}}),c=n(37),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{attrs:{accordion:""}},t._l(t.lives,(function(e){return n("el-collapse-item",{key:e.uid},[n("template",{slot:"title"},[n("span",{style:e.isLive?"color: black":"color:grey"},[t._v("\n        "+t._s(e.name)+"（"+t._s(e.uid)+"）\n      ")]),t._v(" "),e.isLive?n("span",[t._v("：")]):t._e(),t._v(" "),e.isLive?n("el-link",{attrs:{type:"primary",href:e.url,target:"_blank"}},[t._v("\n        "+t._s(e.title)+"\n      ")]):t._e(),t._v(" "),e.isRecord?n("span",{staticStyle:{color:"red"}},[t._v("（正在录播）")]):t._e(),t._v(" "),e.isRecord?n("span",{staticStyle:{position:"absolute",right:"30px"}},[n("el-popconfirm",{attrs:{icon:"el-icon-info","icon-color":"red",title:"确定停止 "+e.name+"（"+e.uid+"） 的录播？"},on:{confirm:function(n){return t.stopRecord(e.uid)}}},[n("el-button",{attrs:{slot:"reference",size:"small"},slot:"reference"},[t._v("\n            停止录播\n          ")])],1)],1):e.isLive?n("span",{staticStyle:{position:"absolute",right:"30px"}},[n("el-button",{attrs:{size:"small"},on:{click:function(n){return t.startRecord(e.uid)}}},[t._v("\n          启动录播\n        ")])],1):t._e()],1),t._v(" "),n("LiveConfig",{attrs:{config:e,"stop-rec":t.stopRecord}})],2)})),1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LiveConfig:n(299).default})},302:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{liveDialog:!1}}},o=n(37),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticStyle:{"margin-left":"30px","margin-top":"30px"},on:{click:function(e){t.liveDialog=!0}}},[t._v("\n    订阅主播\n  ")]),t._v(" "),n("LiveConfigDialog",{attrs:{"show-dialog":t.liveDialog},on:{hideDialog:function(e){t.liveDialog=!1}}}),t._v(" "),n("el-divider"),t._v(" "),n("el-link",{staticStyle:{"margin-left":"50px"},attrs:{type:"primary",href:"http://localhost:51880/log",target:"_blank"}},[t._v("\n    显示日志\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{LiveConfigDialog:n(300).default})},303:function(t,e,n){"use strict";n.r(e);var r=n(37),component=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{attrs:{value:"liveStatus","tab-position":"left"}},[n("el-tab-pane",{attrs:{name:"liveStatus"}},[n("template",{slot:"label"},[n("span",{staticStyle:{"font-size":"24px"}},[t._v("直播状态")])]),t._v(" "),n("Live")],2),t._v(" "),n("el-tab-pane",{attrs:{name:"config"}},[n("template",{slot:"label"},[n("span",{staticStyle:{"font-size":"24px"}},[t._v("设置")])]),t._v(" "),n("Config")],2)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Live:n(301).default,Config:n(302).default})}}]);